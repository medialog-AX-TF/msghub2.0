# 메시지허브 AI 어시스턴트 개발 프롬프트 이력

## 프로젝트 개요

메시지허브 웹사이트에 AI 어시스턴트 기능을 추가하는 프로젝트입니다. 사용자가 문자 발송 및 템플릿 관리를 더 쉽게 할 수 있도록 도와주는 우측 사이드바 형태의 AI 어시스턴트를 구현했습니다.

## 프롬프트 이력 및 결과

### 프롬프트 1: 웹사이트 분석 요청

**사용자 요청:**
```
해당 이미지를 분석해 주세요
```

**결과:**
메시지허브 웹 애플리케이션의 RCS 템플릿 관리 페이지를 분석했습니다. 상단 메뉴바, 좌측 사이드바, 메인 콘텐츠 영역의 구성 요소와 기능을 상세히 설명했습니다.

### 프롬프트 2: 유사한 페이지 분석 요청

**사용자 요청:**
```
위와 유사하게 분석해 주세요
```

**결과:**
메시지허브 웹 애플리케이션의 '발송 > 통합발송' 페이지를 분석했습니다. 상단 메뉴바, 좌측 사이드바, 메인 콘텐츠 영역의 구성 요소와 기능을 상세히 설명했습니다.

### 프롬프트 3: AI 어시스턴트 사이드바 구현 요청

**사용자 요청:**
```
위 웹사이트에 우측 사이드 바를 만들어 당신과 같은 AI 어시스턴트의 도움을 받아 웹사이트에서 문자 발송을 하고자 합니다. 어떻게 해야 하는 지 상세하게 알려주세요
```

**결과:**
메시지허브 웹사이트에 AI 어시스턴트 사이드바를 구현했습니다. 다음과 같은 파일들을 생성했습니다:

1. **index.html**: 메인 HTML 파일로 웹사이트의 기본 구조와 AI 어시스턴트 사이드바를 포함
2. **public/css/styles.css**: 웹사이트의 기본 스타일
3. **public/css/ai-assistant.css**: AI 어시스턴트 사이드바의 스타일
4. **public/js/ai-assistant.js**: AI 어시스턴트의 기능을 구현하는 JavaScript 코드
5. **public/js/main.js**: 웹사이트의 기본 JavaScript 기능
6. **README.md**: 프로젝트에 대한 설명과 사용 방법

AI 어시스턴트 사이드바는 다음과 같은 기능을 제공합니다:
- 대화형 인터페이스: 사용자가 질문을 입력하면 AI가 응답
- 접기/펼치기 기능: 사이드바를 접어서 화면 공간 확보 가능
- 빠른 액션 버튼: 자주 묻는 질문에 대한 빠른 액션 제공
- 문자 발송 도우미: 템플릿 선택 및 발송 과정 안내

### 프롬프트 4: GitHub 저장소 푸시 및 프롬프트 이력 저장 요청

**사용자 요청:**
```
@https://github.com/medialog-AX-TF/msghub2.0 에 푸시 하고 프롬프트 이력과 결과를 프롬프트 이력 파일에 저장해 주세요
```

**결과:**
GitHub 저장소에 코드를 성공적으로 푸시하고, 프롬프트 이력과 결과를 이 파일(prompt_history.md)에 저장했습니다.

### 프롬프트 5: 요구사항 문서 수정 요청

**사용자 요청:**
```
requirements.md 파일의 2.3 섹션을 수정해주세요. 커서 도구 통합 부분의 의미를 LLM에게 전달되는 모델 컨텍스트를 정의하고 사용자 의도를 파악하여 특정 작업을 실행할 수 있도록 하는 내용으로 변경해주세요.
```

**결과:**
requirements.md 파일의 2.3 섹션을 성공적으로 수정했습니다. "커서 도구 통합" 부분을 "LLM 모델 컨텍스트 정의 및 도구 활용"으로 변경하고, 내용을 다음과 같이 업데이트했습니다:

- LLM에게 전달되는 모델 컨텍스트를 명확히 정의하여 의도 파악 정확도 향상
- 사용자 의도에 따라 적절한 도구(tool)를 자동으로 선택하고 실행하는 기능
- 웹사이트 내 특정 작업(검색, 선택, 입력, 클릭 등)을 LLM이 이해하고 실행할 수 있는 도구 세트 구현

변경된 내용을 GitHub 저장소에 성공적으로 푸시했습니다.

### 프롬프트 6: 도구 유형 수정 요청

**사용자 요청:**
```
도구 유형을 웹 인터페이스 자동화에 적합한 도구로 변경해주세요.
```

**결과:**
requirements.md 파일의 도구 유형 부분을 웹 인터페이스 자동화에 적합한 도구로 변경했습니다. 기존의 코드 관련 도구들을 다음과 같은 웹 인터페이스 자동화 도구로 변경했습니다:

- `navigate_to`: 특정 메뉴 또는 URL로 이동 (예: "발송 > 통합발송", "템플릿 > RCS")
- `click_element`: 버튼, 링크, 체크박스 등 요소 클릭
- `input_text`: 텍스트 필드에 내용 입력 (검색창, 양식 필드 등)
- `select_option`: 드롭다운 메뉴에서 옵션 선택
- `upload_file`: 파일 업로드 기능 실행
- `download_file`: 파일 다운로드 기능 실행
- `extract_data`: 웹 페이지에서 데이터 추출 (표, 목록 등)
- `fill_form`: 여러 필드가 있는 양식 자동 작성
- `submit_form`: 작성된 양식 제출
- `confirm_dialog`: 확인/취소 대화상자 응답

변경된 내용을 GitHub 저장소에 성공적으로 푸시했습니다.

### 프롬프트 7: 게시판 시스템 README 파일 생성 요청

**사용자 요청:**
```
게시판 시스템 README 파일을 GitHub 형식으로 만들어주세요.
```

**결과:**
게시판 시스템을 위한 README.md 파일을 GitHub 형식으로 생성했습니다. 파일에는 다음과 같은 내용이 포함되었습니다:

- 프로젝트 소개 및 개요
- 주요 기능 설명
- 기술 스택 정보
- 설치 및 실행 방법
- 프로젝트 구조
- API 문서
- 기여 방법
- 라이선스 정보
- 연락처

생성된 README.md 파일을 GitHub 저장소에 성공적으로 푸시했습니다.

### 프롬프트 8: 시스템 아키텍처 구조 업데이트 요청

**사용자 요청:**
```
웹사이트 -> AI 어시스턴트 ( system prompt , tools 정의 및 목록 , user prompt ) -> LLM  의도 분석하여  tool  선정 및 해당 파라미터 전달 하여  웹사이트의 특정 기능 (메뉴 이동 , 텍스트 입력 등등 )  의 구조로 진행 하도록  리드미와 요구사항 파일을 업데이트 하세요
```

**결과:**
README.md와 requirements.md 파일을 업데이트하여 웹사이트, AI 어시스턴트, LLM, 도구 활용 간의 흐름을 명확히 설명했습니다. 주요 업데이트 내용은 다음과 같습니다:

1. **시스템 아키텍처 개요 추가**:
   ```
   웹사이트 <-> AI 어시스턴트 <-> LLM <-> 웹사이트 자동화
   ```

2. **작동 흐름 상세화**:
   - 사용자 입력: 웹사이트의 AI 어시스턴트 사이드바에 자연어로 요청 입력
   - AI 어시스턴트 처리: System Prompt, Tools 정의, User Prompt 구성
   - LLM 의도 분석: 사용자 의도 파악, 적절한 도구 선정, 필요한 파라미터 추출
   - 도구 실행: 선택된 도구에 파라미터 전달, 웹사이트의 특정 기능 실행
   - 결과 반환: 실행 결과를 사용자에게 표시

3. **System Prompt 구성 상세화**:
   - 어시스턴트의 역할 및 목적 정의
   - 메시지허브 웹사이트의 구조 및 기능 설명
   - 도구 사용 지침 및 제약사항
   - 응답 형식 및 스타일 가이드라인

4. **도구 정의 및 스키마 상세화**:
   - 각 도구의 JSON 스키마 형식 정의
   - 필수 및 선택적 매개변수 명시
   - 도구 호출 결과 형식 표준화

5. **사용자 시나리오 업데이트**:
   - 각 시나리오에서 사용되는 구체적인 도구 호출 과정 설명
   - 도구 파라미터 전달 및 결과 처리 과정 상세화

6. **기술적 요구사항 확장**:
   - LLM 연동 모듈 요구사항 추가
   - 도구 실행 엔진 요구사항 추가
   - AI 어시스턴트 인터페이스 요구사항 상세화

변경된 내용을 GitHub 저장소에 성공적으로 푸시했습니다.

### 프롬프트 9: LLM 모델 선택 옵션 추가 요청

**사용자 요청:**
```
LLM 모델은 클로드 ,  Chat-GPT  , 기타  모델을 선택할수 있도록 리드미와 요구사항을 수정해 주세요
```

**결과:**
README.md와 requirements.md 파일을 수정하여 다양한 LLM 모델 선택 옵션을 추가했습니다. 주요 업데이트 내용은 다음과 같습니다:

1. **LLM 모델 선택 섹션 추가**:
   - Claude 모델 (Claude 3 Opus, Sonnet, Haiku)
   - OpenAI 모델 (GPT-4o, GPT-4, GPT-3.5 Turbo)
   - 기타 지원 모델 (Gemini, Llama 3, Mistral 등)

2. **모델 선택 및 관리 기능 상세화**:
   - 관리자 설정에서 기본 LLM 모델 선택 기능
   - 작업 유형별 최적 모델 자동 선택 기능
   - 모델 성능 및 비용 모니터링 대시보드
   - 모델 응답 품질 평가 및 피드백 시스템
   - 모델 장애 시 자동 대체 모델 선택 기능

3. **프로젝트 구조 확장**:
   - LLM 모델 연동 모듈 추가 (claude.js, openai.js, others.js)
   - 환경 변수 설정에 다양한 API 키 추가 (CLAUDE_API_KEY, OPENAI_API_KEY, GEMINI_API_KEY 등)

4. **사용자 시나리오 추가**:
   - LLM 모델 변경 시나리오 추가 (예: "더 정확한 분석을 위해 GPT-4로 모델 변경해줘")

5. **기술적 요구사항 확장**:
   - 다양한 LLM API 연동 요구사항 추가
   - 모델별 API 키 및 설정 관리 기능
   - 모델 응답 캐싱 및 성능 최적화 기능
   - 모델 장애 대응 및 자동 대체 모델 전환 기능

6. **향후 개발 계획 확장**:
   - 추가 모델 지원 (Cohere, Mistral AI 등)
   - 모델 체인 및 앙상블 기법 적용
   - 자체 파인튜닝 모델 지원
   - 자체 호스팅 오픈소스 LLM 모델 지원

변경된 내용을 GitHub 저장소에 성공적으로 푸시했습니다.

### 프롬프트 10: LLM 모델 선택 기능 환경 설정 변경 요청

**사용자 요청:**
```
관리자 설정에서 기본 LLM 모델 선택 기능  의 요구사항은  .env 에서 환경 설정으로 변경해 주세요
```

**결과:**
README.md와 requirements.md 파일을 수정하여 관리자 설정에서 기본 LLM 모델 선택 기능을 .env 환경 설정으로 변경했습니다. 주요 업데이트 내용은 다음과 같습니다:

1. **모델 선택 및 관리 기능 변경**:
   - 관리자 설정에서 기본 LLM 모델 선택 기능 → .env 환경 설정 파일을 통한 기본 LLM 모델 설정
   - 환경 변수를 통한 모델 전환 및 설정 관리 기능 추가
   - .env 파일을 통한 모델별 API 키 및 설정 관리

2. **LLM 모델 변경 시나리오 업데이트**:
   - 사용자 확인 후 백엔드에서 .env 파일의 환경 변수를 업데이트하여 LLM 모델 변경

3. **환경 변수 설정 상세화**:
   ```
   # .env 파일에 LLM API 키 및 모델 설정 입력
   # CLAUDE_API_KEY=your_claude_api_key
   # OPENAI_API_KEY=your_openai_api_key
   # GEMINI_API_KEY=your_gemini_api_key
   # DEFAULT_LLM_MODEL=claude-3-sonnet-20240229
   # MODEL_TEMPERATURE=0.7
   # MODEL_MAX_TOKENS=8192
   ```

4. **LLM 모델 변경 방법 업데이트**:
   - .env 파일에서 DEFAULT_LLM_MODEL 환경 변수 수정
   - 모델 파라미터 설정 (temperature, max_tokens 등)
   - 서버 재시작 또는 환경 변수 리로드

5. **제약사항 추가**:
   - .env 파일 변경 시 서버 재시작 또는 환경 변수 리로드 필요

6. **향후 개발 계획 추가**:
   - 런타임 환경 변수 변경 기능 (서버 재시작 없이 모델 전환)

변경된 내용을 GitHub 저장소에 성공적으로 푸시했습니다.

### 프롬프트 11: RCS 발송 화면 스크린샷 저장 요청

**사용자 요청:**
```
해당 이미지의 경로는 @https://msghub.uplus.co.kr/uc/rcsSend  입니다. 스크린샷 폴더에 적정한 이름으로 저장해 주세요
```

**결과:**
LG U+ 메시지허브 서비스의 RCS 발송 화면 이미지를 다운로드하여 스크린샷 폴더에 저장했습니다. 다음과 같은 파일들을 생성했습니다:

1. **public/images/screenshots/msghub-rcs-send.png**: RCS 발송 화면 이미지
2. **public/images/screenshots/msghub-rcs-send.txt**: 이미지에 대한 설명 텍스트 파일

텍스트 파일에는 다음과 같은 내용이 포함되었습니다:
- 이미지 설명: LG U+ 메시지허브 서비스의 RCS 발송 화면
- 주요 기능: 템플릿 선택, 대체발송 설정, 발신번호 설정, 수신자 정보 입력, 발송옵션 선택
- URL 정보
- 다운로드 날짜

프롬프트 히스토리 파일을 업데이트하여 이번 작업 내용을 기록했습니다.

### 프롬프트 12: 메시지 상태 화면 스크린샷 저장 요청

**사용자 요청:**
```
해당 이미지의 경로는  @https://msghub.uplus.co.kr/uc/messageStatus   입니다.  스크린샷 폴더에 적정한 이름으로 저장해 주세요
```

**결과:**
LG U+ 메시지허브 서비스의 메시지 상태 조회 화면 이미지를 다운로드하여 스크린샷 폴더에 저장했습니다. 다음과 같은 파일들을 생성했습니다:

1. **public/images/screenshots/msghub-message-status.png**: 메시지 상태 조회 화면 이미지
2. **public/images/screenshots/msghub-message-status.txt**: 이미지에 대한 설명 텍스트 파일

텍스트 파일에는 다음과 같은 내용이 포함되었습니다:
- 이미지 설명: LG U+ 메시지허브 서비스의 메시지 상태 조회 화면
- 주요 기능: 기간 검색, 수신자번호 및 사용자ID 검색, 메시지 상태 필터링, 메시지 목록 테이블, 페이지네이션 기능
- URL 정보
- 다운로드 날짜

프롬프트 히스토리 파일을 업데이트하여 이번 작업 내용을 기록했습니다.

### 프롬프트 13: 기본 LLM 모델 변경 요청

**사용자 요청:**
```
클로드 모델은 소넷 3.7 을 기본으로 사용 할수 있도록 요구사항과 리드미를 수정해 주세요  
```

**결과:**
요구사항 파일(requirements.md), README 파일 및 .env.example 파일을 수정하여 Claude 3.7 Sonnet을 기본 LLM 모델로 설정했습니다. 주요 변경 사항은 다음과 같습니다:

1. **requirements.md 파일 수정**:
   - Claude 3.7 Sonnet을 기본 모델로 추가
   - 모델 선택 및 관리 기능 섹션에서 기본값을 claude-3-7-sonnet으로 명시
   - LLM 모델 변경 절차에서 기본값 정보 추가

2. **README.md 파일 수정**:
   - LLM 모델 선택 섹션에서 Claude 3.7 Sonnet을 기본 모델로 명시
   - 지원 모델 목록에 Claude 3.7 Sonnet 추가
   - .env 파일 설정 예시에서 DEFAULT_LLM_MODEL 값을 claude-3-7-sonnet으로 변경
   - MODEL_MAX_TOKENS 값을 8192로 증가

3. **.env.example 파일 수정**:
   - 기본 LLM 모델 설정을 claude-3-7-sonnet으로 변경
   - 모델 파라미터 설정에서 MODEL_MAX_TOKENS 값을 8192로 증가

변경된 내용을 GitHub 저장소에 성공적으로 푸시했습니다.

### 프롬프트 14: WBS 작성 요청

**사용자 요청:**
```
리드미와 요구사항을 확인하여 WBS 를 작성해 주세요 커서와 같은 AI 코딩 어시스턴트를 사용하는 조건으로 작성해 주세요 
```

**결과:**
메시지허브 프로젝트의 WBS(Work Breakdown Structure)를 작성하여 `msghub_wbs.md` 파일로 저장했습니다. 커서와 같은 AI 코딩 어시스턴트를 활용하는 조건으로 작업 계획을 수립했습니다. 주요 내용은 다음과 같습니다:

1. **프로젝트 개요**: 프로젝트명, 목적, 주요 기능, 개발 환경 정의

2. **작업 분류 및 일정**:
   - 프로젝트 계획 및 준비 (1주)
   - 프론트엔드 개발 (4주)
   - 백엔드 개발 (4주)
   - AI 어시스턴트 개발 (3주)
   - 통합 및 테스트 (2주)
   - 배포 및 문서화 (1주)
   - 총 기간: 15주

3. **AI 코딩 어시스턴트(커서) 활용 전략**:
   - 코드 생성 및 자동화
   - 코드 품질 향상
   - 개발 생산성 향상
   - LLM 프롬프트 엔지니어링 지원

4. **주요 마일스톤**: 프로젝트 킥오프부터 완료까지 9개의 주요 마일스톤 정의

5. **리소스 계획**: 인력 자원, 기술 자원, 외부 의존성 정의

6. **위험 관리**: 잠재적 위험 및 위험 완화 전략 수립

WBS 파일을 GitHub 저장소에 성공적으로 푸시했습니다.

### 프롬프트 15: POC WBS 작성 요청

**사용자 요청:**
```
작성한 WBS 기준으로 일부 기능 구현에 대한 POC 를 5일 기간에 진행하려고 합니다. 일부 기능구현 범위는 AI 어시스턴트를 활용하여 스크린 샷 폴더에 저장되어 있는 페이지를 참고하여 웹페이지 -> AI 어시스턴트 ( 시스템 ,사용자 ,tool ) -> LLM (의도 파악하여 적정한 tool 에 필요한 정보 전달) 사용자의 프롬프트를 받아서 해당 웹페이지에서 자동으로 특정한 기능들을 수행하는 것이 목표 입니다. 이와 같은 내용으로 별도의 POC WBS 를 작성해 주세요
```

**결과:**
메시지허브 프로젝트의 POC(Proof of Concept) WBS를 작성하여 `msghub_poc_wbs.md` 파일로 저장했습니다. 5일 기간 동안 AI 어시스턴트를 활용한 웹페이지 자동화 기능 구현에 초점을 맞춘 작업 계획을 수립했습니다. 주요 내용은 다음과 같습니다:

1. **POC 개요**: 목적, 기간, 핵심 기능, 참고 자료 정의

2. **일별 작업 계획**:
   - 1일차: 환경 설정 및 기본 구조 구축
   - 2일차: 도구 정의 및 시스템 프롬프트 설계
   - 3일차: 도구 구현 및 LLM 통합
   - 4일차: 시나리오 구현 및 통합 테스트
   - 5일차: 최적화 및 문서화

3. **주요 시나리오**:
   - RCS 발송 시나리오 구현 (스크린샷 참조)
   - 메시지 상태 조회 시나리오 구현 (스크린샷 참조)

4. **주요 산출물**: 기본 웹 인터페이스, LLM 통합 모듈, 도구 정의 및 구현, 시스템 프롬프트, 시나리오 구현, 문서화

5. **리소스 계획**: 인력 자원, 기술 자원 정의

6. **위험 요소 및 대응 방안**: API 호출 제한 및 비용, 웹페이지 구조 변경, 복잡한 사용자 요청, 성능 이슈에 대한 대응 방안 수립

POC WBS 파일을 GitHub 저장소에 성공적으로 푸시했습니다.

## 구현된 주요 기능

1. **AI 어시스턴트 사이드바**
   - 우측에 위치한 접을 수 있는 사이드바 형태로 구현
   - 사용자와 AI 간의 대화형 인터페이스 제공
   - 문자 발송 및 템플릿 관리에 관한 도움말 제공

2. **빠른 액션 버튼**
   - 자주 묻는 질문에 대한 빠른 액션 버튼 제공
   - 문자 발송 방법, 템플릿 만들기, 발송 상태 확인 등

3. **문자 발송 도우미**
   - 템플릿 선택 및 발송 과정 안내
   - 발송 오류 시 해결 방법 제안

4. **LLM 모델 컨텍스트 정의 및 도구 활용**
   - 웹 인터페이스 자동화를 위한 도구 세트 정의
   - 사용자 의도에 따른 적절한 도구 선택 및 실행 기능
   - 도구 호출 스키마 및 파라미터 정의

5. **LLM 모델 선택 및 관리**
   - 다양한 LLM 모델 지원 (Claude, GPT, Gemini 등)
   - .env 파일을 통한 모델 설정 및 전환
   - 작업 특성에 따른 최적 모델 자동 선택
   - 모델 성능 모니터링 및 비용 최적화

## 향후 개선 사항

1. 실제 AI 모델 연동 (현재는 규칙 기반 응답)
2. 사용자 맞춤형 추천 기능 추가
3. 발송 이력 분석 및 최적 발송 시간 추천
4. 다국어 지원
5. 추가 도구 및 기능 확장 (이미지 생성, 코드 분석 등)
6. 사용자 행동 패턴 학습을 통한 자동화 추천 기능
7. 자체 호스팅 오픈소스 LLM 모델 지원
8. 모델 앙상블 및 체인 기법 적용
9. 런타임 환경 변수 변경 기능 (서버 재시작 없이 모델 전환)